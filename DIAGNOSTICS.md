# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å z.ai

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç
‚úÖ Health check –ø—Ä–æ—Ö–æ–¥–∏—Ç
‚ùå –ü–µ—Ä–µ–≤–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç)

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–ª–∞—Å—Å `OpenAiProviderClient` –¥–æ–±–∞–≤–ª–µ–Ω–æ:

- **API REQUEST:**
  - Endpoint
  - Model
  - Messages count
  - –ü–æ–ª–Ω—ã–π JSON –∑–∞–ø—Ä–æ—Å–∞

- **API RESPONSE:**
  - HTTP Status
  - –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
  - –ü–æ–ª–Ω—ã–π JSON –æ—Ç–≤–µ—Ç–∞ –æ—Ç API
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ choices, –Ω–∞–ª–∏—á–∏–µ message, –¥–ª–∏–Ω–∞ content)

- **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞: "QuickTranslate v1.0.6 [DEBUG]"
  - –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ: "‚úì Detailed API logging is ENABLED"

### 2. –°–æ–∑–¥–∞–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

#### check_version.bat
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ DLL –∏ EXE —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞.

#### run_new_version.bat
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–ø–∫—É —Å –ª–æ–≥–∞–º–∏
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```cmd
check_version.bat
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì DLL –Ω–∞–π–¥–µ–Ω–∞: QuickTranslate.Desktop\bin\Release\net8.0-windows\QuickTranslate.Core.dll
‚úì EXE –Ω–∞–π–¥–µ–Ω: QuickTranslate.Desktop\bin\Release\net8.0-windows\QuickTranslate.Desktop.exe
‚úì DLL —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å DEBUG LOGGING
‚úì EXE —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å DEBUG LOGGING
```

–ï—Å–ª–∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "‚úó DLL/EXE –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é", –∑–Ω–∞—á–∏—Ç —Å–±–æ—Ä–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å.

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```cmd
run_new_version.bat
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–∫—Ä–æ–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
3. –û—Ç–∫—Ä–æ–µ—Ç –ø–∞–ø–∫—É —Å –ª–æ–≥–∞–º–∏

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `QuickTranslate v1.0.6 [DEBUG]`

–ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥—Ä—É–≥–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Å—Ç–æ "QuickTranslate"), –∑–Ω–∞—á–∏—Ç –∑–∞–ø—É—â–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è.

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º: `Hello, world!`
3. –í—ã–¥–µ–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç
4. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+T`

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ñ–∞–π–ª –ª–æ–≥–æ–≤:
```
%LOCALAPPDATA%\QuickTranslate\logs\log-20260101.txt
```

**–ò—â–∏—Ç–µ:**

1. –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  QuickTranslate v1.0.6 (DEBUG LOGGING)    ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
‚úì Detailed API logging is ENABLED
```

2. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞:
```
=== API REQUEST ===
Endpoint: https://api.z.ai/api/anthropic/chat/completions
Model: glm-4-32b-0414-128k
Messages count: 2
Request payload: {"model":"glm-4-32b-0414-128k",...}
==================

=== API RESPONSE ===
Status: 200 OK
Response length: XXX chars
Raw API response: {...}
=====================
```

---

## üìä –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç 1: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø–æ—è–≤–∏–ª–∏—Å—å ‚úÖ

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –±–ª–æ–∫–∏ `=== API REQUEST ===` –∏ `=== API RESPONSE ===`:

**–ü—Ä–∏—à–ª–∏—Ç–µ –≤ —á–∞—Ç:**
1. –ü–æ–ª–Ω—ã–π –±–ª–æ–∫ `Request payload: {...}`
2. –ü–æ–ª–Ω—ã–π –±–ª–æ–∫ `Raw API response: {...}`
3. –ë–ª–æ–∫ `Response structure:`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:**
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º JSON –æ—Ç–≤–µ—Ç –æ—Ç z.ai
- –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç OpenAI, –¥–æ–±–∞–≤–∏–º –∞–¥–∞–ø—Ç–µ—Ä
- –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π, –ø–æ–ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç 2: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ù–ï –ø–æ—è–≤–∏–ª–∏—Å—å ‚ùå

–ï—Å–ª–∏ –≤—ã –ù–ï –≤–∏–¥–∏—Ç–µ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤:

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–ó–∞–ø—É—â–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è**
   - –†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞: `QuickTranslate v1.0.6 [DEBUG]`
   - –ï—Å–ª–∏ –¥—Ä—É–≥–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∑–Ω–∞—á–∏—Ç —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–µ—Å—Ç–∞

2. **DLL –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å**
   - –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--no-incremental`
   - –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –≤—Å–µ –ø–∞–ø–∫–∏ `bin` –∏ `obj` –≤—Ä—É—á–Ω—É—é

3. **–õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª**
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `%LOCALAPPDATA%\QuickTranslate\logs\`
   - –ò—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç–æ–π

---

## üß™ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: –ü—Ä—è–º–æ–π —Ç–µ—Å—Ç API

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ PowerShell:

```powershell
$apiKey = "–í–ê–®_API_–ö–ï–õ–¨"
$endpoint = "https://api.z.ai/api/anthropic/chat/completions"

$body = @{
    model = "glm-4-32b-0414-128k"
    messages = @(
        @{
            role = "user"
            content = "Translate to Russian: Hello, world!"
        }
    )
    max_tokens = 100
} | ConvertTo-Json -Depth 10

Write-Host "=== REQUEST ===" -ForegroundColor Cyan
Write-Host $body
Write-Host ""

try {
    $response = Invoke-RestMethod -Uri $endpoint -Method Post -Headers @{
        "Authorization" = "Bearer $apiKey"
        "Content-Type" = "application/json"
    } -Body $body -ErrorAction Stop

    Write-Host "=== RESPONSE ===" -ForegroundColor Green
    Write-Host ($response | ConvertTo-Json -Depth 10)
} catch {
    Write-Host "=== ERROR ===" -ForegroundColor Red
    Write-Host $_.Exception.Message
    Write-Host $_.ErrorDetails
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞:**

- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ —Å API –∫–ª—é—á–æ–º –∏–ª–∏ endpoint
- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–æ–¥–µ–ª—å—é –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç–æ–º –∑–∞–ø—Ä–æ—Å–∞

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞:

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–æ–±—â–∏—Ç–µ:

1. ‚úÖ –í–∏–¥–∏—Ç–µ –ª–∏ –≤—ã –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞: `QuickTranslate v1.0.6 [DEBUG]`?
2. ‚úÖ –ü–æ—è–≤–∏–ª–∏—Å—å –ª–∏ –≤ –ª–æ–≥–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏—è:
   - `‚úì Detailed API logging is ENABLED`
   - `=== API REQUEST ===`
   - `=== API RESPONSE ===`
3. ‚úÖ –ï—Å–ª–∏ –¥–∞, –ø—Ä–∏—à–ª–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–∏—Ö –±–ª–æ–∫–æ–≤

### –ï—Å–ª–∏ —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ PowerShell —Å—Ä–∞–±–æ—Ç–∞–ª:

1. ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ –ø–µ—Ä–µ–≤–æ–¥?
2. ‚úÖ –í –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç?

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–±—ã—Ç–∏—è –≤ Event Viewer:
1. Win + R ‚Üí `eventvwr`
2. Windows Logs ‚Üí Application
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –æ—Ç `QuickTranslate.Desktop`

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ª–µ—Ç–∞–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .NET Runtime:
1. Win + R ‚Üí `eventvwr`
2. Windows Logs ‚Üí Application
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –æ—Ç `.NET Runtime`

---

## üìö –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- `check_version.bat` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ —Å–±–æ—Ä–∫–∏
- `run_new_version.bat` - –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
- `OpenAiProviderClient.cs` - –ö–ª–∏–µ–Ω—Ç API —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `MainWindow.xaml.cs` - –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ª–æ–≥–æ–≤

- [ ] –ó–∞–ø—É—â–µ–Ω–∞ –≤–µ—Ä—Å–∏—è —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "QuickTranslate v1.0.6 [DEBUG]"
- [ ] –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "‚úì Detailed API logging is ENABLED"
- [ ] –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø–æ—è–≤–∏–ª–∏—Å—å –±–ª–æ–∫–∏ "=== API REQUEST ===" –∏ "=== API RESPONSE ==="
- [ ] –ü—Ä–∏—à–ª–µ–Ω—ã –ø–æ–ª–Ω—ã–µ JSON –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞
